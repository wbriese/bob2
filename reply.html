<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
      <style>

        img {
          flex:none;
        }

        .container {
          display:inline-flex;
          margin-top: 20px;
        }

        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          
        }
        
        td, th {
          border: 1px solid #8b8989;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #dddddd;
        }
        </style>
      <title>Ship Positions</title>
  </head>
  <body>

    <h2>Veslink Daily Reports of MV {{ship}}</h2>
   
    <form action="/ship">
      <input list="shipID" name="shipID" placeholder="{{ship}}">
      <datalist id="shipID">
        {{#each shipList}}
        <option value="{{this.id}}">{{this.ship}}</option>  
        {{/each}}    
        </datalist>
      <input type="submit" value="Submit">
    </form>

    <div class="container">
    <table>
      <tr>
        <th>Date</th>
        <th>Speed</th>
        <th>rpm</th>
        <th>M/E</th>
        <th>A/E</th>
        <th>wind</th>
        <th>wDir</th>
        <th>swell</th>
        <th>sDir</th>
      </tr>
      <tr>
        <td></td>
        <td>avg {{avgSpeed}}</td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      
      </tr>
              
      {{#each positions}}
      <tr>
        <td>{{this.DATE}}</td>
        <td>{{this.SPEED_KNOTS}}</td>
        <td>{{this.rpm}}</td>
        <td>{{this.ME_cons}}</td>
        <td>{{this.AE_cons}}</td>
        <td>{{this.weather.fF10}}</td>
        <td>{{this.relWindHeading}}</td>
        <td>{{this.weather.swellHeight}}</td>
        <td>{{this.relSwellHeading}}</td>
      </tr>
      {{/each}}
      
    </table>
    <div><img src="https://maps.googleapis.com/maps/api/staticmap?scale=2&maptype=terrain&size=1280x1280&path=color:0x0000ff|weight:5{{#each positions}}|{{this.latitude}},{{this.longitude}}{{/each}}&key={{GOOGLE_MAP_KEY}}"></div>
    
  </div>

  </body>
</html>